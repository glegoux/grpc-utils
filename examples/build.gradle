plugins {
    id "java"
    id "distribution"
    id "application"
    id "idea"
}

repositories {
    mavenCentral()
}

dependencies {
    // gRPC Utils project
    implementation project(path: ':grpc-utils')
}

application {
    mainClass = "com.glegoux.grpc.examples.hello.HelloServer"
    applicationDefaultJvmArgs = [
            "-javaagent:./jmx-exporter/jmx_prometheus_javaagent-0.16.1.jar=8002:./jmx-exporter/jmx_prometheus_config.yml"
    ]
}

jar {
    manifest {
        attributes(
                'Main-Class': 'com.glegoux.grpc.examples.hello.HelloServer'
        )
    }
}